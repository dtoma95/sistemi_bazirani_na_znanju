<div ng-include="'angular/partials/MenadzerRestorana/menadzerRestoranaNavBar.html'"></div>

<div ng-controller="scheduleController" style="margin-left: 50px; width:700px;">

<form class="form-horizontal"">
  <fieldset>
    <legend>Edit schedules</legend>
    
     <div class="form-group">
      <label for="selectWorker" class="col-lg-2 control-label">Worker:</label>
      <div class="col-lg-10">
      	<select id="selectWorker" class="form-control" ng-model="rad.radnik" ng-options="item as item.email for item in radniciList" ng-change="update()">
    		<option value="">Select worker</option>
		</select>     
      </div>
    </div>
    
    <div id="reoni" class="form-group">
      <label for="selectReon" class="col-lg-2 control-label">Section:</label>
      <div class="col-lg-10">
      	<select id="selectReon" class="form-control" ng-model="rad.reon" ng-options="item.nazivReona for item in reoniList">
    		<option value="">Select section</option>
		</select>     
      </div>
    </div>
    
    <div class="form-group">
        <label for="inputPocetakRada" class="col-lg-2 control-label">Start Date:</label>
        <div class="col-lg-3">
          <p class="input-group">
            <input id="inputPocetakRada" type="text" class="form-control" uib-datepicker-popup="dd/MM/yy" ng-model="rad.pocetakRada" is-open="popup1.opened" datepicker-options="dateOptions" close-text="Close" alt-input-formats="altInputFormats" readonly="readonly"/>
            <span class="input-group-btn">
              <button type="button" class="btn btn-default" ng-click="open1()"><i class="glyphicon glyphicon-calendar"></i></button>
            </span>
          </p>
        </div>
      </div>
    
    <div class="form-group">
        <label for="inputKrajRada" class="col-lg-2 control-label">End Date:</label>
        <div class="col-lg-3">
          <p class="input-group">
            <input id="inputKrajRada" type="text" class="form-control" uib-datepicker-popup="dd/MM/yy" ng-model="rad.krajRada" is-open="popup2.opened" datepicker-options="dateOptions" close-text="Close" alt-input-formats="altInputFormats" readonly="readonly"/>
            <span class="input-group-btn">
              <button type="button" class="btn btn-default" ng-click="open2()"><i class="glyphicon glyphicon-calendar"></i></button>
            </span>
          </p>
        </div>
      </div>
    
    
    <div class="form-group">
        <label for="time" class="col-lg-2 control-label">Start time:</label>
        <div class="col-lg-4">
          <div uib-timepicker ng-model="time1" ng-change="changed()" hour-step="hstep" minute-step="mstep" show-meridian="false"></div>
        </div>
      </div>
    <div class="form-group">
        <label for="time" class="col-lg-2 control-label">End Time:</label>
        <div class="col-lg-4">
          <div uib-timepicker ng-model="time2" ng-change="changed()" hour-step="hstep" minute-step="mstep" show-meridian="false"></div>
        </div>
      </div>
    
    <div class="form-group">
      <div class="col-lg-10 col-lg-offset-2">
        <button type="submit" class="btn btn-primary" ng-click="assignSchedule(rad, time1, time2)">Assign schedule</button>
      </div>
    </div>
   
  </fieldset>
</form>

<table style="width:1100px; margin-left:50px;" class="table table-striped table-hover ">
  <thead>
    <tr>
      <th>Worker</th>
      <th>Section</th>
      <th>Start date</th>
      <th>End date</th>
      <th>Start time</th>
      <th>End time</th>
      <th>Delete schedule</th>
      <th>Modify schedule</th>
    </tr>
  </thead>
  <tbody>
    <tr ng-repeat="i in rasporediList">
    	<td>{{i.email}}</td>
    	<td ng-if="i.reon != 'Not needed'">{{i.reon.nazivReona}}</td>
    	<td ng-if="i.reon == 'Not needed'"></td>
		<td>{{i.pocetakRada }}</td>
		<td>{{i.krajRada}}</td>
		<td>{{i.vremePocetkaRada }}</td>
		<td>{{i.vremeKrajaRada}}</td>
		<td>
			<button class="btn btn-primary" ng-click="removeSchedule(i)">Delete schedule</button><br>
		</td>
		<td>
			<button class="btn btn-primary" ng-click="modifySchedule(i)">Modify schedule</button><br>
		</td>
	</tr>
  </tbody>
</table> 

</div>